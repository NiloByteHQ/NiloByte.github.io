{# eleventy_src/_includes/blog_base.njk #}
<!DOCTYPE html>
<html lang="en" class="dark"> {# Or manage dark mode dynamically #}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {# Use page title from front matter, fallback to default #}
    <title>{{ title or "Nilobyte Blog" }}</title>
    <meta name="description" content="{{ description or 'Insights from Nilobyte' }}">
    {# Correct asset path for _site output #}
    <link rel="canonical" href="{{ page.url | url }}"> {# Use Eleventy's page url #}
    <link rel="icon" href="/assets/favicon.webp" type="image/webp">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RHHMJFB8C0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-RHHMJFB8C0');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="stylesheet" href="/assets/css/styles.css">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/styles.css">

    {# Include the blog-card specific style if needed globally for blog pages #}
    <style>
      .blog-card::before { content: ''; position: absolute; inset: 0; border-radius: 1.5rem; padding: 1px; background: linear-gradient(45deg, var(--tw-gradient-stops)); -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); -webkit-mask-composite: xor; mask-composite: exclude; opacity: 0; transition: opacity 0.3s ease-in-out; pointer-events: none; }
      .blog-card:hover::before { opacity: 1; }
    </style>

</head>
<body class="dark:bg-gray-900 dark:text-gray-100 bg-gray-100 text-gray-900 transition-colors duration-300 font-sans">

    {# Theme Toggle Button - from blog.html #}
    <button id="theme-toggle" class="fixed top-4 right-4 z-50 p-3 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur shadow-lg hover:scale-105 transition-transform">
         <svg class="w-6 h-6 dark:hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
         <svg class="w-6 h-6 hidden dark:block" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg>
    </button>
    {# Home Button - needs JS from main.js to handle click/ripple #}
    <button class="home-cta" aria-label="Back to Home" title="Back to Home">
      <i class="fas fa-home text-xl text-white"></i>
    </button>

    {# Top Navigation - from blog.html #}
    <nav class="absolute top-0 left-0 right-0 z-30 p-6">
       <div class="container mx-auto flex justify-between items-center">
            {# Link paths are relative to the root now #}
            <a href="/" class="font-display font-bold text-2xl text-white dark:text-gray-100">
                N<span class="text-blue-400">.</span>
            </a>
            <div class="hidden md:flex space-x-6 text-sm uppercase tracking-wider">
                <a href="/blog/" class="text-white/90 hover:text-white font-semibold border-b-2 border-blue-400 pb-1">Blog</a>
                <a href="/webdesigns.html" class="text-white/70 hover:text-white transition-colors pb-1">Web Designs</a>
                <a href="/templates.html" class="text-white/70 hover:text-white transition-colors pb-1">Emails</a>
                {# You might need to adjust this contact link later #}
                <a href="/#contact" class="text-white/70 hover:text-white transition-colors pb-1">Contact</a>
            </div>
       </div>
    </nav>

    {# The main content from the specific page template will go here #}
    {{ content | safe }}

    {# Footer - Identical to the one in blog.html (ensure it's included or replicated) #}
    <footer id="contact" class="bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
        <div class="container mx-auto px-4 py-16">
             {# ... Contact options grid ... #}
             <div class="text-center mb-16">...</div>
             {# ... Logo and social links ... #}
             <div class="flex flex-col md:flex-row justify-between items-center">...</div>
             {# ... Copyright ... #}
             <div class="mt-12 text-center text-sm text-gray-600 dark:text-gray-400">
                <p>Â© {% year %} Nilobyte. All rights reserved.</p> {# Use shortcode if added #}
             </div>
        </div>
    </footer>

    {# Scripts - ensure paths are correct #}
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    {# Link to main.js in assets at the root #}
    <script src="/assets/js/main.js" defer></script>
    <script>
      AOS.init({ once: true, duration: 800 });
      // Theme toggle logic should be handled by main.js now
    </script>
</body>
</html>