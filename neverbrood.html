<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Should You Make Broodlords?</title>
  <meta name="description" content="A vital question for all StarCraft 2 Zerg players.">

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RHHMJFB8C0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-RHHMJFB8C0');
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* Base Styles & Zerg Color Variables */
    :root {
      --zerg-purple: #4D1B7B;
      --zerg-purple-light: #7E3CB2;
      --zerg-creep: #1F0A30;
      --zerg-glow: #7CFC00; /* Chartreuse Green */
      --zerg-flesh: #B44C68;
      --zerg-border: #6A2E9C;
      --text-light: #e5e7eb;
      --text-muted: #9ca3af;
      --text-dark: #1f2937;
      --bg-dark: #111827;
      --black-transparent-75: rgba(0,0,0,0.75);
      --black-transparent-50: rgba(0,0,0,0.50);
      --gray-500: #6b7280;
      --gray-600: #4b5563;
    }

    html { scroll-behavior: smooth; }

    body {
      margin: 0; font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background-color: var(--bg-dark); color: var(--text-light);
      line-height: 1.6; min-height: 100vh; overflow-x: hidden;
    }
    .dark body {
      background-color: var(--zerg-creep);
      background-image: radial-gradient(var(--zerg-purple) 1px, transparent 1px),
                        radial-gradient(var(--zerg-purple-light) 1px, transparent 1px);
      background-size: 40px 40px; background-position: 0 0, 20px 20px;
    }

    /* Layout Helpers (simplified) */
    .flex { display: flex; } .items-center { align-items: center; } .justify-center { justify-content: center; }
    .text-center { text-align: center; } .relative { position: relative; }
    .fixed { position: fixed; } .absolute { position: absolute; }
    .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
    .z-10 { z-index: 10; } .z-40 { z-index: 40; } .z-45 { z-index: 45; } .z-50 { z-index: 50; } .z-51 { z-index: 51; }
    .min-h-screen { min-height: 100vh; } .p-8 { padding: 2rem; }
    .mb-4 { margin-bottom: 1rem; } .mb-5 { margin-bottom: 1.25rem; } .mb-10 { margin-bottom: 2.5rem; } .mb-12 { margin-bottom: 3rem; }
    .mt-12 { margin-top: 3rem; } .mx-auto { margin-left: auto; margin-right: auto; }
    .space-y-10 > :not([hidden]) ~ :not([hidden]) { margin-top: 2.5rem; }
    .space-x-4 > :not([hidden]) ~ :not([hidden]) { margin-left: 1rem; }
    .w-full { width: 100%; } .max-w-3xl { max-width: 48rem; } .max-w-lg { max-width: 32rem; }
    .rounded-lg { border-radius: 0.5rem; } .rounded-xl { border-radius: 0.75rem; } .rounded-full { border-radius: 9999px; }
    .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); }
    .overflow-hidden { overflow: hidden; } .italic { font-style: italic; }
    .hidden-section { display: none; }
    .pointer-events-none { pointer-events: none; } .pointer-events-auto { pointer-events: auto; }

    /* Typography */
    h1 { font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 2.5rem; line-height: 1.2; color: var(--zerg-glow); text-shadow: 0 0 8px var(--zerg-glow); margin-bottom: 2rem; }
     @media (min-width: 768px) { h1 { font-size: 3rem; } }
    .text-xl { font-size: 1.25rem; line-height: 1.75rem; } .text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .text-gray-100 { color: var(--text-light); } .text-gray-200 { color: #e5e7eb; } .text-gray-300 { color: #d1d5db; } .text-gray-400 { color: var(--text-muted); }
    .drop-shadow-lg { filter: drop-shadow(0 10px 8px rgba(0,0,0,0.04)) drop-shadow(0 4px 3px rgba(0,0,0,0.1)); }
    .opacity-50 { opacity: 0.5; }

    /* Buttons */
    .zerg-button { font-family: 'Poppins', sans-serif; display: inline-block; padding: 0.75rem 1.5rem; font-size: 1.25rem; font-weight: 600; background-color: var(--zerg-purple); color: var(--text-light); border: 2px solid var(--zerg-border); border-radius: 0.75rem; box-shadow: 0 0 10px rgba(126, 60, 178, 0.5); transition: all 0.3s ease; cursor: pointer; vertical-align: middle; }
    .zerg-button:hover { background-color: var(--zerg-purple-light); border-color: var(--zerg-glow); transform: scale(1.05); box-shadow: 0 0 15px rgba(124, 252, 0, 0.7); color: var(--zerg-creep); }

    /* Close Button Specific Styles */
    .close-btn { background-color: var(--gray-600); border-color: var(--gray-500); font-size: 0.875rem; padding: 0.5rem 1rem; box-shadow: none; }
    .close-btn:hover { background-color: var(--gray-500); border-color: var(--text-muted); transform: scale(1.03); box-shadow: none; color: var(--text-light); }

    /* Textarea */
     .zerg-textarea { display: block; font-family: 'Inter', sans-serif; background-color: rgba(31, 10, 48, 0.7); border: 1px solid rgba(106, 46, 156, 0.5); color: var(--text-light); border-radius: 0.5rem; padding: 0.75rem; width: 100%; max-width: 32rem; margin-left: auto; margin-right: auto; margin-bottom: 1.25rem; transition: border-color 0.3s ease, box-shadow 0.3s ease; resize: vertical; }
     .zerg-textarea::placeholder { color: rgba(126, 60, 178, 0.6); font-style: italic; }
     .zerg-textarea:focus { outline: none; border-color: var(--zerg-glow); box-shadow: 0 0 15px rgba(124, 252, 0, 0.5); }

    /* Massive NO */
    .massive-no { font-family: 'Poppins', sans-serif; font-size: 10rem; font-weight: 700; color: var(--zerg-flesh); text-shadow: 4px 4px 0 var(--zerg-purple), 8px 8px 10px var(--black-transparent-50); line-height: 1; animation: float 4s ease-in-out infinite; }
     @media (min-width: 768px) { .massive-no { font-size: 15rem; } }
     @media (min-width: 1024px) { .massive-no { font-size: 20rem; } }

    /* Loading Swirl / Fix */
    #loading-section {
        /* Styles applied dynamically by JS when moved to body */
        /* Default state (hidden, within main-content) */
        position: relative; /* Keep default relative for flow */
        z-index: 45; /* Keep z-index */
        width: 100%;
        text-align: center;
    }
    .loading-swirl { border: 8px solid rgba(126, 60, 178, 0.3); border-top: 8px solid var(--zerg-glow); border-radius: 50%; width: 80px; height: 80px; animation: spin 1s linear infinite; margin: 2rem auto; }
    .loading-text { font-family: 'Poppins', sans-serif; font-size: 1.5rem; margin-top: 1rem; color: var(--zerg-glow); animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    .loading-subtext { font-size: 1.125rem; color: var(--text-muted); }

    /* Dimming Overlay - NO BLUR */
    .dim-overlay { position: fixed; inset: 0; background-color: var(--black-transparent-75); /* backdrop-filter: blur(4px); REMOVED */ z-index: 40; }

    /* Result "Popup" */
    .result-popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); z-index: 50; text-align: center; opacity: 0; transition: opacity 0.5s ease, transform 0.5s ease; width: 90%; pointer-events: none; }
     .result-popup.show { opacity: 1; transform: translate(-50%, -50%) scale(1); pointer-events: auto; }

     /* Fullscreen Confetti Container */
    #confetti-container-fullscreen { position: fixed; inset: 0; z-index: 51; pointer-events: none; overflow: hidden; }
    /* Confetti Piece */
    .confetti { position: absolute; width: 10px; height: 15px; background-color: var(--confetti-color); opacity: 0; border-radius: 3px; }

    /* Horizontal Rule */
     hr { border: 0; height: 1px; background-image: linear-gradient(to right, transparent, var(--zerg-border), transparent); opacity: 0.5; width: 50%; margin: 2.5rem auto; }

    /* Shared Button Styles */
     .fixed-btn { position: fixed; z-index: 50; width: 3rem; height: 3rem; display: flex; align-items: center; justify-content: center; background: rgba(77, 27, 123, 0.5); backdrop-filter: blur(8px); border-radius: 9999px; cursor: pointer; overflow: hidden; border: 1px solid var(--zerg-border); transition: all 0.3s ease; }
     .fixed-btn:hover { background: rgba(126, 60, 178, 0.7); transform: scale(1.1); box-shadow: 0 0 10px var(--zerg-glow); }
     .fixed-btn i, .fixed-btn svg { color: var(--zerg-glow); }
    /* Home Button */
    .home-cta { top: 1rem; left: 1rem; } .home-cta i { font-size: 1.25rem; }
    /* Theme Toggle */
     #theme-toggle { top: 1rem; right: 1rem; padding: 0; }
     #theme-toggle svg { width: 1.5rem; height: 1.5rem; margin: auto; }
     .dark #theme-toggle .dark\:hidden { display: none; } .dark #theme-toggle .hidden { display: block; } #theme-toggle .hidden { display: none; }


    /* Animations */
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes float { 0%, 100% { transform: translateY(-8px); } 50% { transform: translateY(8px); } }
    @keyframes pulse { 50% { opacity: .5; } }

    /* CRAZIER Confetti Animation - Adjusted for Fullscreen */
@keyframes confetti-crazy-fall {
  0% {
    transform: translateY(0) rotate(var(--rotation-start)) scale(1);
    opacity: 1;
  }
  80% {
    transform: translateY(100vh) rotate(calc(var(--rotation-start) + 360deg)) scale(0.8);
    opacity: 0.7;
  }
  100% {
    transform: translateY(110vh) rotate(calc(var(--rotation-start) + 720deg)) scale(0.1);
    opacity: 0;
  }
}

  </style>
</head>
<body class="dark">

  <button id="theme-toggle" title="Toggle Theme" class="fixed-btn">
    <svg class="dark:hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
    <svg class="hidden dark:block" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg>
  </button>
  <button class="home-cta fixed-btn" onclick="location.href='index.html'" aria-label="Back to Home" title="Back to Home">
    <i class="fas fa-home"></i>
  </button>

  <div id="main-content" class="relative min-h-screen flex flex-col items-center justify-center p-8 z-10 text-center">

      <div id="initial-section" class="w-full max-w-3xl">
          <h1>Should you make Brood Lords?</h1>
          <p class="text-xl mb-12 text-gray-300 italic">The eternal question for Zerg commanders...</p>

          <div class="space-y-10">
              <div>
                  <button id="find-out-now" class="zerg-button px-10 py-5 shadow-lg">
                      Find out now
                  </button>
              </div>

              <hr>

              <div>
                  <p class="text-lg mb-4 text-gray-200">Tell our <strike class="opacity-50">Overmind</strike> AI to evaluate:</p>
                  <textarea id="situation-details" class="zerg-textarea" rows="3" placeholder="Describe the game state (e.g., 200/200 Roach/Hydra vs Terran Bio, losing 3rd base...)"></textarea>
                  <button id="ask-ai" class="zerg-button px-10 py-5 shadow-lg">
                      Evaluate Situation
                  </button>
              </div>
          </div>
      </div>

      <div id="result-no-1" class="hidden-section">
          <p class="massive-no">NO</p>
          <div class="mt-12 space-x-4"> <button id="reset-1" class="zerg-button px-6 py-3 text-lg">Ask Again?</button>
              <button class="close-btn zerg-button">Close</button> </div>
      </div>

      <div id="loading-section" class="hidden-section">
          <div class="loading-swirl"></div>
          <p class="loading-text">Evaluating tactical data...</p>
          <p class="loading-subtext">Consulting the Hive Mind...</p>
       </div>

  </div> <div id="dim-overlay" class="dim-overlay hidden-section"></div>

  <div id="result-no-2" class="result-popup hidden-section">
       <p class="massive-no">NO</p>
       <div class="mt-12 space-x-4 relative z-51"> <button id="reset-2" class="zerg-button px-6 py-3 text-lg">Consult AI Again?</button>
           <button class="close-btn zerg-button">Close</button> </div>
   </div>

  <div id="confetti-container-fullscreen" class="fixed inset-0 z-51 pointer-events-none overflow-hidden">
        </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const initialSection = document.getElementById('initial-section');
        const resultNo1 = document.getElementById('result-no-1');
        const loadingSection = document.getElementById('loading-section');
        const resultNo2 = document.getElementById('result-no-2');
        const dimOverlay = document.getElementById('dim-overlay');
        const mainContent = document.getElementById('main-content');
        const confettiContainerFullscreen = document.getElementById('confetti-container-fullscreen');

        const findOutNowBtn = document.getElementById('find-out-now');
        const askAiBtn = document.getElementById('ask-ai');
        const reset1Btn = document.getElementById('reset-1');
        const reset2Btn = document.getElementById('reset-2');
        const closeBtns = document.querySelectorAll('.close-btn');
        const situationDetails = document.getElementById('situation-details');

        // --- CRAZIER Confetti Generation ---
        function triggerConfetti() {
            confettiContainerFullscreen.innerHTML = ''; // Clear old confetti
            const colors = ['#7CFC00', '#B44C68', '#7E3CB2', '#FFD700', '#6A2E9C'];
            const confettiCount = 150; // Increase confetti count

            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                const color = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.setProperty('--confetti-color', color);

                const duration = Math.random() * 2.5 + 3.5; // 3.5s to 6s duration
                const delay = Math.random() * 0.5;
                const rotationStart = Math.random() * 720 - 360;
                const spread = (Math.random() - 0.5) * (window.innerWidth * 0.8); // Increase spread
                const drift = (Math.random() - 0.5) * (window.innerWidth * 0.4); // Increase drift

                confetti.style.setProperty('--x-spread', spread);
                confetti.style.setProperty('--x-drift', drift);
                confetti.style.setProperty('--rotation-start', rotationStart);

                confetti.style.animation = `confetti-crazy-fall ${duration}s cubic-bezier(0.1, 0.9, 0.3, 1.2) ${delay}s forwards`;

                // Start randomly across the top edge
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.top = `${Math.random() * -10 - 5}vh`; // Start above viewport

                confetti.style.width = `${Math.random() * 6 + 7}px`;
                confetti.style.height = `${Math.random() * 10 + 12}px`;
                confetti.style.transform = `scale(${Math.random() * 0.5 + 0.7})`;

                confettiContainerFullscreen.appendChild(confetti);
            }
        }

        findOutNowBtn.addEventListener('click', () => {
            initialSection.style.display = 'none';
            loadingSection.style.display = 'none'; // Ensure loader hidden
            resultNo2.style.display = 'none'; // Ensure other result hidden
            resultNo1.style.display = 'block';
        });

        askAiBtn.addEventListener('click', () => {
            initialSection.style.display = 'none';
            resultNo1.style.display = 'none'; // Ensure other result hidden
            dimOverlay.style.display = 'block';
            // Show loader INSIDE main content, but centered visually
            mainContent.appendChild(loadingSection); // Append to main content flow
            loadingSection.style.display = 'block'; // Make visible

            const delay = Math.random() * 3000 + 5000;
            setTimeout(() => {
                loadingSection.style.display = 'none'; // Hide loader

                resultNo2.style.display = 'block'; // Show popup CONTAINER
                triggerConfetti(); // Trigger fullscreen confetti

                requestAnimationFrame(() => {
                    resultNo2.classList.add('show'); // Animate popup IN
                });

            }, delay);
        });

        function resetPage() {
            // Hide all dynamic sections
            resultNo1.style.display = 'none';
            resultNo2.style.display = 'none';
            resultNo2.classList.remove('show'); // Reset animation state
            loadingSection.style.display = 'none';
            dimOverlay.style.display = 'none';

            // Remove loader from main content if it's there
            if (mainContent.contains(loadingSection)) {
                mainContent.removeChild(loadingSection);
            }

            // Clear confetti and textarea
            confettiContainerFullscreen.innerHTML = '';
            situationDetails.value = '';

            // Show the initial section
            initialSection.style.display = 'block';
        }

        reset1Btn.addEventListener('click', resetPage);
        reset2Btn.addEventListener('click', resetPage);
        closeBtns.forEach(btn => btn.addEventListener('click', resetPage)); // Wire up close buttons

        // --- Theme Toggle ---
        const themeToggle = document.getElementById('theme-toggle');
        const htmlEl = document.documentElement;
        if (themeToggle) {
             const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
             const storedTheme = localStorage.getItem('theme');
             const setTheme = (isDark) => {
                 htmlEl.classList.toggle('dark', isDark);
                 try { localStorage.setItem('theme', isDark ? 'dark' : 'light'); } catch(e) {}
             };
            setTheme(storedTheme === 'dark' || (!storedTheme && prefersDark));
            themeToggle.addEventListener('click', () => setTheme(!htmlEl.classList.contains('dark')));
        } else { htmlEl.classList.add('dark'); }
    });
  </script>
</body>
</html>